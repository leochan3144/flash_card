<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phonics Flashcards</title>
    <style>
        /* Basic page styling */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f0f4f8;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            color: #333;
        }

        /* Main app container */
        #app-container {
            width: 90%;
            max-width: 500px;
            text-align: center;
        }

        /* Container for the card and speak button */
        .card-container {
            width: 100%;
            height: 300px;
            position: relative; /* Allows absolute positioning for the button */
            margin-bottom: 20px;
        }

        /* The card itself (no more flipping) */
        .card {
            width: 100%;
            height: 100%;
            background-color: #155230;
            color: #f5f7fa;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2.5rem;
            font-weight: bold;
            padding: 20px;
            box-sizing: border-box; /* Ensures padding doesn't break layout */
            line-height: 1.3;
            position: relative; /* Ensure image is positioned relative to the card */
            transition: opacity 0.3s ease-in-out;
        }

        /* NEW: Class to hide the word text when image is active */
        .card.image-active {
            opacity: 0; /* Hide the word text when image is active */
        }

        /* New Pronunciation Button */
        #pronounce-btn {
            position: absolute;
            bottom: 15px;
            right: 15px;
            background-color: #e8a917;
            color: white;
            border: none;
            border-radius: 50%; /* Makes it a circle */
            width: 50px;
            height: 50px;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            transition: background-color 0.2s;
            z-index: 10;
        }

        #pronounce-btn:hover {
            background-color: #0056b3;
        }
        
        /* NEW: Image Toggle Button */
        #image-toggle-btn {
            position: absolute;
            bottom: 15px;
            left: 15px; /* Positioned at the bottom-left */
            background-color: #3498db; /* A distinct color for the new button */
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            transition: background-color 0.2s;
            z-index: 10; /* Ensure it's above the card */
        }

        #image-toggle-btn:hover {
            background-color: #2980b9;
        }

        /* NEW: Image Styling */
        #word-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: contain; /* Ensures the image fits without cropping */
            border-radius: 12px;
            background-color: #f5f7fa; /* White background for the image */
            padding: 10px;
            box-sizing: border-box;
            z-index: 5; /* Below the buttons, above the word text */
            opacity: 0; /* Hidden by default */
            transition: opacity 0.3s ease-in-out;
        }

        /* NEW: Class to show the image */
        #word-image.visible {
            opacity: 1;
        }

        /* Navigation buttons */
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .nav-buttons button {
            font-size: 1rem;
            font-weight: 600;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            background-color: #e5e5e5;
            color: #333;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .nav-buttons button:hover {
            background-color: #d1d1d1;
        }

        /* Word counter */
        #word-counter {
            font-size: 1rem;
            color: #555;
        }
    </style>
</head>
<body>

    <div id="app-container">
        <div class="card-container">
            <div class="card" id="word-display">
                <!-- NEW: Image Display Area -->
                <img id="word-image" src="" alt="Image for the current word">
            </div>
            <button id="pronounce-btn">üîä</button>
            <!-- NEW: Image Toggle Button -->
            <button id="image-toggle-btn">üñºÔ∏è</button>
        </div>

        <div class="nav-buttons">
   		 <button id="prev-btn">Previous</button>
    
   		 <button id="shuffle-btn">Shuffle</button> 
    
    		<button id="next-btn">Next</button>
		</div>

        <div id="word-counter">
            Word 1 / 1
        </div>
    </div>

    <script>
    // --- 1. Your Word List ---
    const rawWordData = `
        Orange Hot Dog Swan Wash Want
        Pan Bag Map Wed Leg Bed Bread
        Head Dead Ink Kid Sit Gymnast
        Gym Rhythm Pretty Effective Electric
        Umbrella Cup Hut Touch Tough Rough
        Cook Book Look Full Bull Pull
        Banana Panda Gorilla Tiger Teacher Worker
        Car Card Farm Fork Lord Born
        Draw Yawn Lawn Sauce Audio Author
        Oar Roar Soar Fear Dear Hear
        cheer Beer Dear Hurt Nurse Purse
        Fern Mercy Person Girl Shirt Skirt
        Word Work Worm Heard Learn Search
        Chair Hair Pair Square Scare Spare
        Pear Bear Wear Sleep Deep Jeep
        Meat Meal Team Equal He We
        Field Piece Niece Receive Seize Ceiling
        Rail Tail Pain May Play Stay
        Cake Take Date They Prey Grey
        Steak Break Great Veil Rein Vein
        Eight Neighbour Weight Light Flight Fright
        Pie Tie Die Cry Sky Fly
        Wine Nine Line Iron Find Mind
        Coin Join Soil Boy Toy Joy
        Coat Boat Foam Snow Slow Blow
        Volcano Cold Gold Smoke Home Coke
        Uniform Unit Unique Tuesday Argue Value
        Stew Few New Cube Tube Cute
        Cow Town Down House Mouse Couch
        Food Room Tool Screw Flaw Crew
        Glue Blue Clue Flute Include Pollute
        Blouse Black Blink Clean Clock Clear
        Flower Flag Flat Globe Glass Glove
        Planet Plane Plant Slave Sleep Sled
        Bridge Bread Brick Crop Crash Crack
        Drum Drink Drive Fruit Frog Fresh
        Group Grass Grab Trap Truck Trip
        Skip Skill Spring Spot Speak Stone
        Step Stop Rabbit Bubble Rubber Ladder
        Cuddle Puddle Pulled Cleaned Failed
        Muffin Coffee Suffer Phone Photo Phrase
        Cough Laugh Guard Guide Guess Egg
        Giggle Wiggle Whole Whom Whose
        Giraffe Gentle Giant Cage Large Page
        Hedge Bridge Fridge Clock Chick Chemist
        Stomach Monarch Bell Tell Bill
        Hammer Summer Grammar Thumb Autumn Hymn
        Tunnel Dimmer Funny Knight Knock Knot
        Gnome Gnaw Gnat Apple Happy Supper
        Queen Quack Quick Squirrel Borrow Narrow
        Write Wrap Wrist Glove Have Live
        Dress Glass Class City Circle Circus
        Rice Face Nice Horse House Mouse
        Scientist Science Scent Listen Hasten Fasten
        Button Letter Butter Jumped Washed Watched
        Whistle Shop Sheep Short Station Action
        Nation Discussion Mission Passion Facial
        Precious Delicious Puzzle Jazz Buzz
        Breeze Freeze Sneeze Cheese Rose Nose
        Scissors Dessert Possess Chalk Cheat
        Charge Ring King Sing Sink Drink
        Think Mouth Bath Math Feather Father Mother
    `;

    // --- NEW: Word to Image Mapping ---
    // NOTE: I have only provided images for the first few words.
    // You will need to add the rest of the image paths here.
    const wordToImageMap = {
        "Orange": "images/orange.png",
        "Hot Dog": "images/hotdog.png",
        "Swan": "images/swan.png",
        "Wash": "images/wash.png",
        "Want": "images/want.png",
        "Pan": "images/pan.png",
        "Bag": "images/bag.png",
        "Map": "images/map.png",
        "Wed": "images/wed.png",
        "Leg": "images/leg.png",
        "Bed": "images/bed.png",
        "Bread": "images/bread.png",
        "Head": "images/head.png",
        "Dead": "images/dead.png",
        "Ink": "images/ink.png",
        "Kid": "images/kid.png",
        "Sit": "images/sit.png",
        "Gymnast": "images/gymnast.png",
        // ... add the rest of the words and their image paths here ...
    };

    // Process the string into a clean array of words
    let words = rawWordData.trim().split(/\s+/).filter(Boolean);
    let currentWordIndex = 0;

    // --- 2. Get HTML Elements ---
    const wordDisplay = document.getElementById('word-display');
    const counterDisplay = document.getElementById('word-counter');
    const nextButton = document.getElementById('next-btn');
    const prevButton = document.getElementById('prev-btn');
    const pronounceButton = document.getElementById('pronounce-btn');
    const shuffleButton = document.getElementById('shuffle-btn'); 
    
    // --- NEW ELEMENTS ---
    const imageToggleBtn = document.getElementById('image-toggle-btn');
    const wordImage = document.getElementById('word-image');

    // --- 3. Define Functions ---

    // --- NEW: Image Toggle Function ---
    function toggleImage() {
        const currentWord = words[currentWordIndex];
        const imagePath = wordToImageMap[currentWord];

        if (!imagePath) {
            alert(`No image found for the word: ${currentWord}`);
            return;
        }

        const isVisible = wordImage.classList.toggle('visible');
        wordDisplay.classList.toggle('image-active', isVisible);
        
        // Update the button text/emoji
        imageToggleBtn.textContent = isVisible ? 'üî†' : 'üñºÔ∏è';
    }

    /** Updates the text on the card and the counter */
    function updateCard() {
        const currentWord = words[currentWordIndex];
        wordDisplay.textContent = currentWord;
        counterDisplay.textContent = `Word ${currentWordIndex + 1} / ${words.length}`;

        // --- NEW: Update Image Source ---
        const imagePath = wordToImageMap[currentWord];
        if (imagePath) {
            wordImage.src = imagePath;
        } else {
            // Set a placeholder or clear the source if no image is available
            wordImage.src = ""; 
        }

        // --- NEW: Hide image when changing word ---
        wordImage.classList.remove('visible');
        wordDisplay.classList.remove('image-active');
        imageToggleBtn.textContent = 'üñºÔ∏è';
    }

    /** Moves to the next word */
    function showNextWord() {
        currentWordIndex++;
        if (currentWordIndex >= words.length) {
            currentWordIndex = 0; // Loop to start
        }
        updateCard();
    }

    /** Moves to the previous word */
    function showPrevWord() {
        currentWordIndex--;
        if (currentWordIndex < 0) {
            currentWordIndex = words.length - 1; // Loop to end
        }
        updateCard();
    }

    /** Uses the Web Speech API to pronounce the current word */
    function speakWord() {
        if ('speechSynthesis' in window) {
            const wordToSpeak = words[currentWordIndex];
            const utterance = new SpeechSynthesisUtterance(wordToSpeak);
            
            utterance.rate = 0.8;
            utterance.lang = 'en-GB';

            window.speechSynthesis.cancel(); 
            window.speechSynthesis.speak(utterance);
        } else {
            alert("Sorry, your browser does not support text-to-speech.");
        }
    }

    /** Shuffles the words array in place (Fisher-Yates algorithm) */
    function shuffleWords() {
        for (let i = words.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [words[i], words[j]] = [words[j], words[i]]; // Swap elements
        }
        // Reset to the first word and update
        currentWordIndex = 0;
        updateCard();
    }

    /** Handles keyboard controls */
    function handleKeyDown(event) {
        switch (event.key) {
            case 'ArrowRight':
                showNextWord();
                break;
            case 'ArrowLeft':
                showPrevWord();
                break;
            case ' ': // Spacebar
                event.preventDefault(); // Prevents page from scrolling down
                speakWord();
                break;
            case 'i': // 'i' for image
            case 'I':
                toggleImage();
                break;
        }
    }

    // --- 4. Add Event Listeners ---
    nextButton.addEventListener('click', showNextWord);
    prevButton.addEventListener('click', showPrevWord);
    pronounceButton.addEventListener('click', speakWord);
    shuffleButton.addEventListener('click', shuffleWords); 
    
    // --- NEW EVENT LISTENER ---
    imageToggleBtn.addEventListener('click', toggleImage);
    
    document.addEventListener('keydown', handleKeyDown); 


    // --- 5. Initial Setup ---
    updateCard();

</script>
</body>
</html>
